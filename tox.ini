# Configure which test environments are run for each Github Actions Python version.
[gh-actions]
python =
    3.10: py310-django{42}, type-check, lint
    3.11: py311-django{42,52}
    3.12: py312-django{42,52,60}
    3.13: py313-django{42,52,60}
    3.14: py314-django{52,60}

[tox]
envlist =
    type-check
    lint
    py{310,311}-django{42,52}
    py{312,313,314}-django{42,52,60}

[testenv]
deps =
    django42: Django>=4.2,<4.3
    django52: Django>=5.2,<5.3
    django60: Django>=6.0,<6.1
commands =
    {envpython} {toxinidir}/manage.py test solo --settings=solo.tests.settings

[testenv:build]
skip_install = true
deps =
    build
commands =
    {envpython} -m build

[testenv:upload]
skip_install = true
deps =
    twine
commands =
    {envpython} -m twine upload {toxinidir}/dist/*

[testenv:type-check]
skip_install = true
deps =
    mypy==1.19.1
    django-stubs==5.2.8
commands =
    mypy solo

[testenv:lint]
skip_install = true
deps =
    ruff==0.14.10
commands =
    ruff format --check
    ruff check
